{% extends "base.html" %}
{% load markdownify %}
{% block main_content %}

{# Speakers #}

    <h1 class="title title--yellow mb-xs-20">Speakers</h1>

    <p>
        We love Python because it’s a high-level language that creates elegant solutions to intricate problems.
        Right now, it's really popular with data scientists and startups. The reason why is simple, you can do a
        lot of amazing things with it. Some of them include data analysis, machine learning, robotics, web and game
        development, and, also, hardware ex. It’s the language of the future.
    </p>

    {% if speakers %}
        <div class="card">
            {% for speaker in speakers %}
                {% if speaker.presentations.all|length %}

                <div class="speaker border--bottom" id="{{ speaker.slug }}">
                    <div class="speaker__details">
                        <div class="speaker__image speaker__type__{{ speaker.preffered_talk_type }}">
                            <a href="{% url 'speaker_detail' slug=speaker.slug %}">
                                <img src="{{ speaker.images.first.profile_picture.url }}">
                            </a>
                        </div>
                        <div class="speaker__info">
                            <a href="{% url 'speaker_detail' slug=speaker.slug %}" class="speaker__link">
                                <h1 class="speaker__name">
                                    {% if speaker.country %}
                                        <i class="flag em em-flag-{{ speaker.country.code|lower }}"></i>
                                    {% endif %}
                                    {{ speaker.name }}
                                </h1>
                            </a>
                            <h4 class="speaker__job"> {{ speaker.job }} {% if speaker.company %}- {{ speaker.company }}{% endif %}</h4>
                            <div class="bio__wrapper">
                                {{ speaker.description|markdownify|truncatewords:20 }}
                            </div>
                        </div>
                    </div>

                    <div class="speaker__conferences">
                        {% for presentation in speaker.presentations.all %}
                            {% if presentation.type == 5 %} {# Keynote talk #}
                                <h3 class="speaker__presentation presentation__{{ speaker.preffered_talk_type }}"">{{ presentation.title }}</h3>
                                <p>{{ presentation.description|markdownify|truncatewords:20 }}</p>
                            {% elif presentation.type == 10 %} {# Normal talk #}
                                <h3 class="speaker__presentation presentation__{{ speaker.preffered_talk_type }}">{{ presentation.title }}</h3>
                                <p>{{ presentation.description|markdownify|truncatewords:20 }}</p>
                            {% elif presentation.type == 15 %} {# Workshop #}
                                <h3 class="speaker__presentation presentation__{{ speaker.preffered_talk_type }}">{{ presentation.title }}</h3>
                                <p>{{ presentation.description|markdownify|truncatewords:20 }}</p>
                            {% endif %}
                        {% endfor %}
                    </div>
                    <a class="button button--blue speaker__button" href="{% url 'speaker_detail' slug=speaker.slug %}" role="button">
                        Find out more
                    </a>
                </div>

                {% endif %}
            {% endfor %}
        </div>
    {% else %}
        <h2 class="coming-soon">
            Coming Soon
        </h2>
    {% endif %}
{% endblock %}
